<!DOCTYPE html>
<html>

<head>
    <title>L2E Mini Project</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- login2explore javascript library cdn -->
    <script src="http://login2explore.com/jpdb/resources/js/0.0.3/jpdb-commons.js"></script>

</head>

<body>
    <center>
        <h1 id="mainHeading">Welcome to L2E</h1>
    </center>
    <div id="container">
        <center>
            <h2 class="subHeading">This is a trial mini project using JsonPowerDB.</h2>
            <p class="subHeading">TWO CRUD operations are performed.</p><br>
            <button class="btn btn-warning" onclick="register()">Registration: Insert Data</button>
           <button class="btn btn-warning" data-toggle="modal" data-target="#myModal">Deletion : Delete Data</button>
        </center>
    </div>

    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Delete Employee</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <table class="table">
                        <tr>
                            <th>Enter Employee Id</th>
                            <th><input type="text"  id="Emp_id"></th>
                        </tr>
                    </table>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" onclick="delete_data()" data-dismiss="modal">Delete</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <script>
        function register() {
            window.location = 'registration.html';
        }
        function show_data() {
            window.location = 'show.html';
        }
        function update_data() {
            window.location = 'update.html';
        }
        function delete_data() {
            window.location = 'delete.html';
        }

        function delete_data(){
            var empId = $("#Emp_id").val();
            var putReqStr = createREMOVERecordRequest("90937995|-31949265572117278|90953702","TESTING", "TEST-REL",empId);
            alert(putReqStr);

            jQuery.ajaxSetup({ async: false });
            var resultObj = executeCommandAtGivenBaseUrl(putReqStr,"http://api.login2explore.com:5577", "/api/iml");
            jQuery.ajaxSetup({ async: true });

            alert("Deleted Successfully");

        }
    </script>

</body>

</html>